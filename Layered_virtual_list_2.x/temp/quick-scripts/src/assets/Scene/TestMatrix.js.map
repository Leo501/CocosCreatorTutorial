{"version":3,"sources":["assets\\Scene\\TestMatrix.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAY;IAAlD;QAAA,qEAuDC;QApDG,YAAM,GAAY,IAAI,CAAC;QAIvB,kBAAY,GAAY,IAAI,CAAC;;QA+C7B,iBAAiB;IACrB,CAAC;IA/CG,wBAAwB;IAExB,yBAAM,GAAN;QACI,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,iBAAiB,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IAC3E,CAAC;IAED,wBAAK,GAAL;QAAA,iBAUC;QATG,IAAI,CAAC,YAAY,CAAC;YACd,KAAI,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;YACpB,KAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;QAC3B,CAAC,EAAE,CAAC,CAAC,CAAC;QAEN,IAAI,CAAC,YAAY,CAAC;YACd,KAAI,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,CAAC;YACzB,KAAI,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC;QAC7B,CAAC,EAAE,CAAC,CAAC,CAAC;IACV,CAAC;IAED,4BAAS,GAAT;QACI,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,iBAAiB,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IAC5E,CAAC;IAGD,+BAAY,GAAZ;QACI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACvC,CAAC;IAED,6BAAU,GAAV,UAAW,IAAa;QACpB,YAAY;QACZ,IAAI,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QACzC,IAAI,cAAc,EAAE;YAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;SAC1C;QACD,YAAY;QACZ,IAAI,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QACzC,IAAI,cAAc,EAAE;YAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;SAC1C;QACD,YAAY;QACZ,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACnC,IAAI,WAAW,EAAE;YACb,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;SACvC;IACL,CAAC;IAjDD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4CACK;IAIvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDACW;IAPZ,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAuD5B;IAAD,eAAC;CAvDD,AAuDC,CAvDqC,EAAE,CAAC,SAAS,GAuDjD;kBAvDoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    target: cc.Node = null;\r\n\r\n\r\n    @property(cc.Node)\r\n    targetParent: cc.Node = null;\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        cc.director.on(cc.Director.EVENT_BEFORE_DRAW, this.onBeforeDraw, this);\r\n    }\r\n\r\n    start() {\r\n        this.scheduleOnce(() => {\r\n            this.target.x = 100;\r\n            this.target.scaleX = 2;\r\n        }, 3);\r\n\r\n        this.scheduleOnce(() => {\r\n            this.targetParent.x = 10;\r\n            this.target.scaleX = 1.1;\r\n        }, 1);\r\n    }\r\n\r\n    onDestroy(): void {\r\n        cc.director.off(cc.Director.EVENT_BEFORE_DRAW, this.onBeforeDraw, this);\r\n    }\r\n\r\n\r\n    onBeforeDraw() {\r\n        this.checkDirty(this.target);\r\n        this.checkDirty(this.targetParent);\r\n    }\r\n\r\n    checkDirty(node: cc.Node) {\r\n        //@ts-ignore\r\n        let _localMatDirty = node._localMatDirty;\r\n        if (_localMatDirty) {\r\n            console.log(node.name, _localMatDirty);\r\n        }\r\n        //@ts-ignore\r\n        let _worldMatDirty = node._worldMatDirty;\r\n        if (_worldMatDirty) {\r\n            console.log(node.name, _worldMatDirty);\r\n        }\r\n        //@ts-ignore\r\n        let _renderFlag = node._renderFlag;\r\n        if (_renderFlag) {\r\n            console.log(node.name, _renderFlag);\r\n        }\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}